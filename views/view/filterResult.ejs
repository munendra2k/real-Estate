<% layout('./layouts/boilerplate') -%>
<div
  class="row offset-lg-3 col-lg-9 p-2 gap-2 mb-3 d-flex justify-content-sm-center bg-body-tertiary border rounded border-secondary">
  <% if (!roomsByState.length) { %>
  <h5 class="text-center">No result found!</h5>
  <% } %> <% for( let i=roomsByState.length-1;i>=0;i-- ) { %>
  <div class="card mb-3 gap-1 p-1" style="width: 22rem">
    <a href="/showmore/<%=roomsByState[i]._id%>">
      <img
        src="<%= roomsByState[i].image %>"
        class="card-img-top rounded-1"
        alt="<%= roomsByState[i].image %>"
        style="height: 15rem" />
    </a>
    <div class="card-body">
      <h5 class="card-title d-flex justify-content-between">
        <%=roomsByState[i].title%>
        <!-- room price price symbol(&#8377;)-->
        <span
          >&#8377;<strong
            ><%= roomsByState[i].price.toLocaleString("en-IN") %></strong
          ></span
        >
      </h5>
      <p class="card-text">
        <span>Category</span
        ><strong class="p-2"><%= roomsByState[i].category %></strong>
      </p>
      <p class="card-text">
        <span>Owner:</span
        ><strong class="p-2"><%=roomsByState[i].owner.name%></strong>
      </p>
      <br />
      <p class="col-5 text-truncate"><%=roomsByState[i].description%></p>
      <a href="/showmore/<%=roomsByState[i]._id%>">More ...</a><br />
      <p class="d-flex justify-content-between">
        <span><%= roomsByState[i].city %>,<%= roomsByState[i].state %></span>
        <span><%= roomsByState[i].createdAt.toDateString().slice(4)%></span>
      </p>
    </div>
  </div>
  <% } %>
</div>
